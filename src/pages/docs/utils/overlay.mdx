import { Canvas, Meta } from '@storybook/blocks';
import { PropsTable } from '@/components/ui/props-table';
import { ToggleCanvas } from '@/components/ui/toggle-canvas';
import * as GlobalOverlayStories from '../../../stories/components/GlobalOverlay.story.tsx';
import * as ConnectedOverlayStories from '../../../stories/components/ConnectedOverlay.story.tsx';
import * as OverlayTriggerStories from '../../../stories/components/OverlayTrigger.story.tsx';
import * as OverlayPortalStories from '../../../stories/components/OverlayPortal.story.tsx';

<Meta of={GlobalOverlayStories} />
<Meta of={ConnectedOverlayStories} />
<Meta of={OverlayTriggerStories} />
<Meta of={OverlayPortalStories} />

# Overlay

---

Overlay provides component developers a way to position elements globally
or relative to a anchor element. The overlay wraps the backdrop, position, exit
listener and portal to provide a simple API for handling position.

There are five overlay components in the Overlay:

- `ConnectedOverlay` - A overlay that is relative to a anchoring element.
- `GlobalOverlay` - A overlay that is placed on top of other elements globally.
- `OverlayPortal` - A wrapper around the portal component to manage z-indexs.
- `OverlayTrigger` - The internal trigger component that the `ConnectedOverlay` uses.

## Demo

### Global Overlay
A overlay component typically used by components like Dialogs or Drawers.
You can use the Global Ovleray using element APIs.

    
Use the css variable `--color-layer-transparent` to set the backdrop color.

```css
// index.css

body {
  --color-layer-transparent: rgba(0, 0, 0, 0.5);
}
```

<ToggleCanvas of={GlobalOverlayStories.ClickToOpen} sourceState="shown" />

#### Dialog Example
Below is an example of a simple dialog component using the global overlay.

<ToggleCanvas of={GlobalOverlayStories.DialogExample} sourceState="shown" />

### Connected Overlay
A overlay component typically used by components like menus.

<ToggleCanvas of={ConnectedOverlayStories.Simple} sourceState="shown" />

#### Tooltip Example
Below is an example of simple tooltip component using the connected overlay.

<ToggleCanvas of={ConnectedOverlayStories.TooltipExample} sourceState="shown" />

#### Menu Example
Below is an example of simple menu component using the connected overlay.

<ToggleCanvas of={ConnectedOverlayStories.MenuExample} sourceState="shown" />

## API
### [src/utils/Overlay/GlobalOverlay/GlobalOverlay.tsx](https://github.com/reaviz/reablocks/blob/master/src/utils/Overlay/GlobalOverlay/GlobalOverlay.tsx)
<PropsTable name='GlobalOverlay' />

### [src/utils/Overlay/ConnectedOverlay/ConnectedOverlay.tsx](https://github.com/reaviz/reablocks/blob/master/src/utils/Overlay/ConnectedOverlay/ConnectedOverlay.tsx)
<PropsTable name='ConnectedOverlay' />

### [src/utils/Overlay/OverlayTrigger.tsx](https://github.com/reaviz/reablocks/blob/master/src/utils/Overlay/OverlayTrigger.tsx)
<PropsTable name='OverlayTrigger' />

### [src/utils/Overlay/OverlayPortal/OverlayPortal.tsx](https://github.com/reaviz/reablocks/blob/master/src/utils/Overlay/OverlayPortal/OverlayPortal.tsx)
<PropsTable name='OverlayPortal' />
